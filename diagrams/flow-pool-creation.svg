<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="820px" preserveAspectRatio="none" style="width:937px;height:820px;background:#FFFFFF;" version="1.1" viewBox="0 0 937 820" width="937px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="161" x="386.5" y="32.9951">Trade Pool Creation</text><ellipse cx="392.75" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><path d="M542.75,77.2969 L542.75,100.9961 L522.75,104.9961 L542.75,108.9961 L542.75,132.6953 A0,0 0 0 0 542.75,132.6953 L768.75,132.6953 A0,0 0 0 0 768.75,132.6953 L768.75,87.2969 L758.75,77.2969 L542.75,77.2969 A0,0 0 0 0 542.75,77.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M758.75,77.2969 L758.75,87.2969 L768.75,87.2969 L758.75,77.2969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="548.75" y="94.3638">User calls createPoolETHFiltered</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="548.75" y="109.4966">with CreateETHPoolParams and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="548.75" y="124.6294">NFTFilterParams as inputs.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="260" x="262.75" y="88.0117"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="240" x="272.75" y="109.1504">Create ETHTokenPool with Filtered NFTs</text><path d="M533.25,172.3516 L533.25,188.4844 L513.25,192.4844 L533.25,196.4844 L533.25,212.6172 A0,0 0 0 0 533.25,212.6172 L774.25,212.6172 A0,0 0 0 0 774.25,212.6172 L774.25,182.3516 L764.25,172.3516 L533.25,172.3516 A0,0 0 0 0 533.25,172.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M764.25,172.3516 L764.25,182.3516 L774.25,182.3516 L764.25,172.3516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="539.25" y="189.4185">Define the parameters needed for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="539.25" y="204.5513">creating an ETH pool.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="241" x="272.25" y="175.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="221" x="282.25" y="196.6387">Initialize CreateETHPoolParams struct</text><path d="M515.25,222.6172 L515.25,261.4492 L495.25,265.4492 L515.25,269.4492 L515.25,308.2813 A0,0 0 0 0 515.25,308.2813 L756.25,308.2813 A0,0 0 0 0 756.25,308.2813 L756.25,232.6172 L746.25,222.6172 L515.25,222.6172 A0,0 0 0 0 515.25,222.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M746.25,222.6172 L746.25,232.6172 L756.25,232.6172 L746.25,222.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="521.25" y="239.6841">Define the parameters needed for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="521.25" y="254.8169">filtering NFTs, including</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="521.25" y="269.9497">merkleRoot, encodedTokenIDs,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="521.25" y="285.0825">initialProof, initialProofFlags,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="521.25" y="300.2153">and externalFilter.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="290.25" y="248.4648"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="185" x="300.25" y="269.6035">Initialize NFTFilterParams struct</text><polygon fill="#F1F1F1" points="334.75,344.5679,450.75,344.5679,462.75,356.5679,450.75,368.5679,334.75,368.5679,322.75,356.5679,334.75,344.5679" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="334.75" y="360.376">Creation Not Paused</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="21" x="301.75" y="353.9736">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14" x="462.75" y="353.9736">no</text><path d="M262,378.5679 L262,394.7007 L242,398.7007 L262,402.7007 L262,418.8335 A0,0 0 0 0 262,418.8335 L473,418.8335 A0,0 0 0 0 473,418.8335 L473,388.5679 L463,378.5679 L262,378.5679 A0,0 0 0 0 262,378.5679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M463,378.5679 L463,388.5679 L473,388.5679 L463,378.5679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="268" y="395.6348">Calls _createPoolETH function</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="268" y="410.7676">to create a new pool.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="192" x="50" y="381.7163"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="172" x="60" y="402.855">Instantiate the CollectionPool</text><path d="M231.5,428.8335 L231.5,452.5327 L211.5,456.5327 L231.5,460.5327 L231.5,484.2319 A0,0 0 0 0 231.5,484.2319 L502.5,484.2319 A0,0 0 0 0 502.5,484.2319 L502.5,438.8335 L492.5,428.8335 L231.5,428.8335 A0,0 0 0 0 231.5,428.8335 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M492.5,428.8335 L492.5,438.8335 L502.5,438.8335 L492.5,428.8335 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="237.5" y="445.9004">Set the Merkle root and encoded</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="237.5" y="461.0332">Token IDs for filtering NFTs.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="237.5" y="476.166">For more stable sets (e.g. stable traits)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="80.5" y="439.5483"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="90.5" y="460.687">Set Token ID Filter</text><path d="M254,494.2319 L254,517.9312 L234,521.9312 L254,525.9312 L254,549.6304 A0,0 0 0 0 254,549.6304 L483,549.6304 A0,0 0 0 0 483,549.6304 L483,504.2319 L473,494.2319 L254,494.2319 A0,0 0 0 0 254,494.2319 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M473,494.2319 L473,504.2319 L483,504.2319 L473,494.2319 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="260" y="511.2988">Verify if the NFTs from the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="260" y="526.4316">initialNFTIDs are accepted based</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="260" y="541.5645">on the Merkle proof and flags.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="58" y="504.9468"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="68" y="526.0854">Check if NFTs are allowed</text><path d="M229,559.6304 L229,583.3296 L209,587.3296 L229,591.3296 L229,615.0288 A0,0 0 0 0 229,615.0288 L551,615.0288 A0,0 0 0 0 551,615.0288 L551,569.6304 L541,559.6304 L229,559.6304 A0,0 0 0 0 229,559.6304 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M541,559.6304 L541,569.6304 L551,569.6304 L541,559.6304 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="235" y="576.6973">Set the external filter address</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="235" y="591.8301">for additional filtering.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="235" y="606.9629">For more dynamic sets (e.g. OpenSea marked)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="83" y="570.3452"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="93" y="591.4839">Set External Filter</text><path d="M214.5,625.0288 L214.5,648.728 L194.5,652.728 L214.5,656.728 L214.5,680.4272 A0,0 0 0 0 214.5,680.4272 L415.5,680.4272 A0,0 0 0 0 415.5,680.4272 L415.5,635.0288 L405.5,625.0288 L214.5,625.0288 A0,0 0 0 0 214.5,625.0288 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M405.5,625.0288 L405.5,635.0288 L415.5,635.0288 L405.5,625.0288 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="220.5" y="642.0957">Calls _initializePoolETH to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="220.5" y="657.2285">transfer initial NFTs and ETH</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="220.5" y="672.3613">to the pool.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="97.5" y="635.7437"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="77" x="107.5" y="656.8823">Initialize Pool</text><path d="M301,697.2788 L301,713.4116 L281,717.4116 L301,721.4116 L301,737.5444 A0,0 0 0 0 301,737.5444 L523,737.5444 A0,0 0 0 0 523,737.5444 L523,707.2788 L513,697.2788 L301,697.2788 A0,0 0 0 0 301,697.2788 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M513,697.2788 L513,707.2788 L523,707.2788 L513,697.2788 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="307" y="714.3457">Returns the newly created pool</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="307" y="729.4785">address and the tokenId used.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="270" x="11" y="700.4272"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="250" x="21" y="721.5659">Return the new pool address and tokenId</text><path d="M728,378.5679 L728,394.7007 L708,398.7007 L728,402.7007 L728,418.8335 A0,0 0 0 0 728,418.8335 L925,418.8335 A0,0 0 0 0 925,418.8335 L925,388.5679 L915,378.5679 L728,378.5679 A0,0 0 0 0 728,378.5679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M915,378.5679 L915,388.5679 L925,388.5679 L915,378.5679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="734" y="395.6348">Pool creation is paused and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="734" y="410.7676">cannot proceed.</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="571" y="381.7163"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="581" y="402.855">Abort pool creation</text><polygon fill="#F1F1F1" points="392.75,743.5444,404.75,755.5444,392.75,767.5444,380.75,755.5444,392.75,743.5444" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="392.75" cy="798.5444" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="392.75" cy="798.5444" fill="#222222" rx="6" ry="6" style="stroke:#111111;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="392.75" x2="392.75" y1="67.2969" y2="88.0117"/><polygon fill="#181818" points="388.75,78.0117,392.75,88.0117,396.75,78.0117,392.75,82.0117" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="392.75" x2="392.75" y1="121.9805" y2="175.5"/><polygon fill="#181818" points="388.75,165.5,392.75,175.5,396.75,165.5,392.75,169.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="171" x="396.75" y="154">CollectionPoolFactory Contract</text><line style="stroke:#181818;stroke-width:1.0;" x1="392.75" x2="392.75" y1="209.4688" y2="248.4648"/><polygon fill="#181818" points="388.75,238.4648,392.75,248.4648,396.75,238.4648,392.75,242.4648" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="146" x2="146" y1="415.6851" y2="439.5483"/><polygon fill="#181818" points="142,429.5483,146,439.5483,150,429.5483,146,433.5483" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="146" x2="146" y1="473.5171" y2="504.9468"/><polygon fill="#181818" points="142,494.9468,146,504.9468,150,494.9468,146,498.9468" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="146" x2="146" y1="538.9155" y2="570.3452"/><polygon fill="#181818" points="142,560.3452,146,570.3452,150,560.3452,146,564.3452" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="146" x2="146" y1="604.314" y2="635.7437"/><polygon fill="#181818" points="142,625.7437,146,635.7437,150,625.7437,146,629.7437" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="146" x2="146" y1="669.7124" y2="700.4272"/><polygon fill="#181818" points="142,690.4272,146,700.4272,150,690.4272,146,694.4272" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="322.75" x2="146" y1="356.5679" y2="356.5679"/><line style="stroke:#181818;stroke-width:1.0;" x1="146" x2="146" y1="356.5679" y2="381.7163"/><polygon fill="#181818" points="142,371.7163,146,381.7163,150,371.7163,146,375.7163" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="462.75" x2="639.5" y1="356.5679" y2="356.5679"/><line style="stroke:#181818;stroke-width:1.0;" x1="639.5" x2="639.5" y1="356.5679" y2="381.7163"/><polygon fill="#181818" points="635.5,371.7163,639.5,381.7163,643.5,371.7163,639.5,375.7163" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="146" x2="146" y1="734.396" y2="755.5444"/><line style="stroke:#181818;stroke-width:1.0;" x1="146" x2="380.75" y1="755.5444" y2="755.5444"/><polygon fill="#181818" points="370.75,751.5444,380.75,755.5444,370.75,759.5444,374.75,755.5444" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="639.5" x2="639.5" y1="415.6851" y2="755.5444"/><line style="stroke:#181818;stroke-width:1.0;" x1="639.5" x2="404.75" y1="755.5444" y2="755.5444"/><polygon fill="#181818" points="414.75,751.5444,404.75,755.5444,414.75,759.5444,410.75,755.5444" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="392.75" x2="392.75" y1="282.4336" y2="344.5679"/><polygon fill="#181818" points="388.75,334.5679,392.75,344.5679,396.75,334.5679,392.75,338.5679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="150" x="396.75" y="323.0679">Call createPoolETHFiltered</text><line style="stroke:#181818;stroke-width:1.0;" x1="392.75" x2="392.75" y1="767.5444" y2="787.5444"/><polygon fill="#181818" points="388.75,777.5444,392.75,787.5444,396.75,777.5444,392.75,781.5444" style="stroke:#181818;stroke-width:1.0;"/><!--SRC=[dLN1Rjim3BtxAtXCWImVi083XhR1SbWNjDckWshJYH152YG6NVRrUwJjBiwC3TWj4X_9nySdHxm4fars3TCwfK1tcPtu5AkgYCjILU_jXkbXyscJzXmDzUfbHqiVX3CtzBZSbDig9g2ot-wa8lfQE5FjGYXKMxwceSIG0uZLw8eZeF6ro-vGo4KDesW77cuB-NWyILbK71lIRbNrxWFTfH2uLifQOkbgIVcCsoWPlsynm2fwyIxudppPhaW-AN34_vvR7vbantHK68D8eSZSODusPK1iBX-tuAlYq14bBxbTzhqUvdzxjbP4cwhcSoXIXrE3Cs87pll0Jod9d3ZM2LcsiDLzcIFiEpRhd58x7vsMmMqD0k69Vw11TA6ZUwqr5ZgzJ-ZiMveDxg779BHsfyBDZGuKQNRcSeCUK0N6YcWktQZZ_Tq2CXA5h6cXxwEsr9wYvHX2Ka-A7EHwxJT1z9ix-ZwpaEb1g_lUkXFD5AMiFfkO17caawKJr313bQ9BkLh9mX1Bt1zIPkpPlQ1COIaquyLsCTp0d5vCa179kntNUuAIMeiSAc3uzAhw_a7r6xgsPmKhOKjeSpheoUBzYX5GgbQhhlaeCDEBA_qiMDN5k4UrWytRgYScDNpe3V9l3GShzHAHQvhCfHX6bSFPwmxV413nIh_c7Dt1rvS2VZboV6P71vVtSDSrnOj7ztS_-JVWu2b9dPkoYwK5tnxHxm9D01hyPezqocPFBAVSYJfOSHZSQeWzoQbzTfbbI0tdtjID5J78g11WVJ7ITpPYmg4mpMAo5_Vn9MNfcDJz-vnelxwCao_u1cdP_ckCpvsBo52Br7pTBJQ-rJ-CTFm5]--></g></svg>